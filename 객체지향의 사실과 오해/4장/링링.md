# 역할, 책임, 협력

## 협력

협력은 다수의 요청과 응답으로 구성되며, 전체적으로 협력은 다수의 연쇄적 요청과 응답으로 구성된다.

</br>

## 책임

책임이란 객체에 의해 정의되는 응집도 있는 행위의 집합으로, 객체가 알아야하는 정보와 객체가 수행할 수 있는 행위에 대해 개략적으로 서술한 문장이다. 객체지향의 세계에서는 어떤 객체가 어떤 요청에 대해 대답해줄 수 있거나, 적절한 행동을 할 의무가 있는 경우 해당 객체가 책임을 갖는다고 말한다.

</br>

객체의 책임은 2가지 관점에서 볼 수 있다.

[1] 하는 것 : doing
- 객체를 생성하거나 계산을 하는 등의 스스로 하는 것
- 다른 객체의 행동을 시작시키는 것
- 다른 객체의 활동을 제어하고 조절하는 것

[2] 아는 것 :  knowing
- 개인적인 정보에 관해 아는 것
- 관련된 객체에 대해 아는 것
- 자신이 유도하거나 계산할 수 있는 것에 관해 아는 것

객체의 책임을 이야기할 때는 일반적으로 외부에서 접근 가능한 공용 서비스의관점에서 이야기한다. 즉, 책임은 객체의 외부에 제공해 줄 수 있는 정보(아는 것)와 외부에 제공해 줄 수 있는 서비스(하는 것)의 목록이다. 따라서 책임은 객체의 공용 인터페이스를 구성한다.

👻 공용 인터페이스(public interface): 해당 책임을 나타내는 일종의 설명서

</br>

**메시지**

객체가 다른 객체에게 주어진 책임을 수행하도록 요청을 보내는 것을 메시지 전송이라고 한다. 메시지는 협력을 위해 한 객체가 다른 객체로 접근할 수 있는 유일한 방법이다.

책임이 협력이라는 문맥속에서 요청을 수신하는 한 쪽 객체의 관점에서 무엇을 할 수 있는지를 나열하는 것이라면 
메시지는 협력에 참여하는 두 객체 사이의 관계를 강조한 것이다.

</br>

## 역할

역할은 재사용 가능하고 유연한 객체지향 설계를 낳는 중요한 구성요소이다. 
역할은 협력 내에서 다른 객체로 대체할 수 있음을 나타내는 일종의 표식이다. 물론 모든 객체가 역할을 수행할 수 있는 것은 아니며, 역할을 대체할 수 있는 객체는 동일한 메시지를 이해할 수 있는 객체로 한정된다. 

역할의 가장 큰 가치는 하나의 협력 안에 여러 종류의 객체가 참여할 수 있게 함으로써 협력을 추상화 할 수 있다는 것이다. 역할의 개념을 사용하면 유사한 협력을 **추상화**해서 인지 과부하를 줄일 수 있다.

 또한 다양한 객체들이 협력에 참여할 수 있기 때문에 재사용성이 높아진다. 역할은 객체지향 설계의 **단순성, 유연성, 재사용성**을 뒷받침하는 핵심개념이다.

 ❕ 역할의 대체 가능성 == 행위 호환성 == 동일한 책임의 수행

 </br>

 ## 객체지향 설계 기법

객체지향 설계랑 애플리케이션의 기능을 구현하기 위한 협력 관게를 고안하고, 협력에 필요한 역할과 책임을 식별한 후 이를 수행할 수 있는 적절한 객체를 식별해 나가는 과정이다.

</br>

**책임-주도 설계(Responsibility-Driven Design)**

- 시스템이 사용자에게 제공해야하는 기능인 시스템 책임을 파악한다.
- 시스템 책임을 더 작은 책임으로 분할한다.
- 분할된 책임을 수행할 수 있는 적절한 객체 또는 역할을 찾아 책임을 할당한다.
- 객체가 책임을 수행하는 중에 다른 객체의 도움이 필요한 경우 이를 책임질 적절한 객체 또는 역할을 찾는다.
- 해당 객체 또는 역할에게 책임을 할당함으로써 두 객체가 협력하게 한다.

</br>

**디자인 패턴 (Design Pattern)**

- 전문가들이 반복적으로 사용하는 해결 방법을 정의해 놓은 설계 템플릿의 모음이다.
- 패턴은 전문가들이 특정 문제를 해결하기 위해 이미 식별해 놓은 역할, 책임, 협력의 모음이다.
- 디자인 패턴은 책임-주도 설계의 결과를 표현한다.
- 일반적으로 반복적으로 발생하는 문제와 그 문제에 대한 해법의 쌍으로 정의된다.
- 패턴은 해결하려고 하는 문제가 무엇인지를 명확하게 서술하고, 패턴을 적용할 수 있는 상황과 적용할 수 없는 상황을 함께 설명하며, 반복해서 일어나는 특정한 상황에서 어떤 설계가 더 효과적인지에 대한 이유를 설명한다.

</br>

**테스트 주도 개발(Test-Driven Development)**

- 테스트를 먼저 작성하고 테스트를 통과하는 구체적인 코드를 추가하면서 애플리케이션을 완성해가는 방식을 따른다.
-기본 흐름은 실패하는 테스트를 작성하고, 테스트를 통과하는 가장 간단한 코드를 작성한 후 리팩터링을 통해 중복을 제거하는 것이다.
-응집도가 높고 결합도가 낮은 클래스로 구성된 시스템을 개발할 수 있게 하는 최상의 프랙티스이다.

</br>

👻 디자인 패턴에 대해 심도있게 공부해본 적이 없는데, 
</br>객체지향, 책임주도 설계와 큰 관련이 있는지 처음 알았다...
</br>기회가 되면 깊게 공부해봐야겠다.. (아니.. 그냥 해..)