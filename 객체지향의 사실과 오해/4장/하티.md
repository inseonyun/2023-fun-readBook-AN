# 04. 역할, 책임, 협력

## 서론

- 개인이 처해 있는 정황 또는 문맥(context)이 인간의 행동 방식을 결정한다.
- 문맥: 타인과의 협력
- **객체지향**에서도 **문맥이 객체의 행동 방식을 결정**한다.
    
    ⇒ 협력이라는 문맥을 고려하지 않는 채 객체의 상태와 행동부터 고민하는 실수가 빈번하다.
    
- 객체지향의 품질은 개별 객체의 품질이 아니라 여러 객체들이 모여 이뤄내는 **협력의 품질**에 의해 결정된다.
- **개별적인 객체의 행동이나 상태가 아니라 객체들 간의 협력에 집중하라.**

- 객체지향 설계의 품질을 결정하는 역할, 책임, 협력은 무엇인가? → 협력이 어떤 식으로 객체의 외양과 특성을 결정하는가?

## 협력

- 다수의 연쇄적인 요청과 응답의 흐름
- 다른 사람에게 도움을 요청 → 요청받은 사람은 필요한 지식/서비스를 제공함으로써 요청에 응답
- 요청을 받아들인다 → 요청에 대해 적절한 방식으로 응답하는 데 필요한 **지식와 행동 방식**을 가지고 있다.
- 요청과 응답 → 협력에 참여하는 **객체가 수행할 책임**을 의미한다.
    
    e.g.) 왕이 모자 장수에게 재판에서 증언을 요청 → 모자 장수는 사건의 내용에 대해 지식이 있고, 증언할 의무가 있음
    

<aside>
💡 객체를 설계하는 과정에서 협력 관계를 먼저 고려하게 된다면, 각 객체가 갖고 있는 지식과 행동 (프로퍼티와 메소드)는 자연스럽게 결정이 되는 걸까?

</aside>

<br/>

## 책임

- 어떤 대상에 대한 요청 → 그 대상이 **요청을 처리할 책임**이 있다.
- 적절한 객체에게 적절한 책임을 할당해야 한다.
- 또한, 책임을 명확하게 해야 한다.
- 일반적으로 외부에서 접근 가능한 공용 서비스의 관점에서 이야기를 한다.
    
    즉, 책임은 객체의 **공용 인터페이스(public interface)**를 구성한다. ⇒ **`캡슐화`**
    

### 분류

- 객체의 책임은 `Knowing: 무엇을 알고 있는가` 와 `Doing: 무엇을 할 수 있는가` 로 구성된다.
- Knowing: 아는 것     ⇒ **객체의 외부에 제공해 줄 수 있는 정보**
    - 개인적인 정보에 관해 아는 것
    - 관련된 객체에 관해 아는 것
    - 자신이 유도하거나 계산할 수 있는 것에 관해 아는 것
- Doing: 하는 것         ⇒ **외부에 제공해 줄 수 있는 서비스**
    - 객체를 생성하거나 계산하는 등 스스로 하는 것
    - 다른 객체의 행동을 시작시키는 것
    - 다른 객체의 활동을 제어, 조작하는 것
    

### 책임과 메시지

- 메시지 전송(message-send): 객체가 다른 객체에게 주어진 책임을 수행하도록 요청을 보내는 것
    
    송신자: 메시지를 전송함으로써 협력을 요청하는 객체
    
    수신자: 메시지를 받아 요청을 처리하는 객체
    
- 메시지는 협력을 위해 한 객체가 다른 객체로 접근할 수 있는 유일한 방법
- 실제로 협력을 정제하면서 이를 메시지로 변환할 때는 하나의 책임이 여러 메시지로 분할되는 경우가 많다.
- 객체지향 설계는
    
    협력에 참여하기 위해 어떤 객체가 어떤 책임을 수행해야 하고
    
    어떤 객체로부터 메시지를 수신할 것인지를 결정하는 것으로부터 시작된다.