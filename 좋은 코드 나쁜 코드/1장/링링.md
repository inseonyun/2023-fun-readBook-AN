# 1장. 코드 품질

## 1장 목표

- 코드 품질이 중요한 이유
- 고품질의 코드가 이루고자 하는 네 가지 목표
- 고품질 코드 작성을 위한 높은 수준에서의 여섯 가지 전략
- 고품질의 코드 작성이 어떻게 중장기적으로 시간과 노력을 절약할 수 있는가

</br>

## 코드 품질의 목표

### 코드는 작동해야 한다

코드는 애초 작성된 목적대로 동작해야 한다.

코드는 작동한다 라는 것을 정의할 때, 우리는 모든 요구사항을 파악할 필요가 있다. 

### 코드는 작동이 멈추면 안된다

코드는 다른 코드에 의존할 수 있는데, 그 코드가 수정되고 변경될 수 있다.

새로운 기능이 필요할 때 코드를 수정해야 할 수도 있다.

우리가 해결하려는 문제는 시간이 지남에 따라 변경된다. (소비자 선호, 비즈니스 요구 등)

### 코드는 변경된 요구 사항에 적응할 수 있어야 한다

한 번 작성하고 다시는 수정되지 않는 코드는 거의 없다. 

요구 사항이 변화하는 환경 속에서 적응 가능한 코드를 작성해야 한다. 

### 코드는 이미 존재하는 기능을 중복 구현해서는 안 된다

이미 존재하는 코드를 사용하는 것은 기존 전문 지식을 활용하는 것과 같다.

시간과 노력을 절약할 수 있고, 버그 가능성을 줄여주며, 코드가 이해하기 쉬워진다. 

</br>

## 코드 품질의 6가지 핵심 요소

### 코드는 읽기 쉬워야 한다.

코드 가독성이 떨어진다면, 다른 개발자가 그 코드를 이해하는 데 많은 시간을 들여야 한다. 

코드의 기능에 대해 잘못 이해하거나 몇 가지 중요한 세부 사항을 놓칠 가능성 역시 크다. 이런 일이 일어난다면 코드 검토 중에 버그를 발견할 가능성이 작고, 새로운 기능을 추가하기 위해 다른 사람이 코드를 수정할 때 새로운 버그가 도입될 가능성이 크다. 

### 코드는 예측 가능해야 한다.

코드가 예상에서 벗어나는 일을 한다면, 그 코드를 사용하는 개발자는 그 상황을 알지 못하거나 그 상황에 대처할 생각을 하지 못할 것이다.

### 코드를 오용하기 어렵게 만들어라.

코드를 오용하기 어렵거나 불가능하게 하면 코드가 작동할 뿐만 아니라 계속해서 잘 작동할 가능성을 극대화 할 수 있다. 

### 코드를 모듈화하라.

모듈화된 시스템의 주요 특징 중 하나는 인터페이스가 잘 정의되어 있어 서로 다른 구성 요소 간 상호작용하는 지점이 최소화된다는 점이다.  

### 코드를 재사용 가능하고 일반화할 수 있게 작성하라.

재사용성(reusability) : 문제를 해결하기 위한 무언가가 여러가지 다른 상황에서도 사용 가능

일반화성(generalizability) : 개념적으로는 유사하지만 서로 미묘하게 다른 문제들을 해결 가능

### 테스트가 용이한 코드를 작성하고, 제대로 테스트하라.

버그나 제대로 동작하지 않는 기능을 갖는 코드가 코드베이스에 병합되지 않도록 방지

버그나 제대로 동작하지 않는 기능을 갖는 코드가 배포되지 않도록 막고 서비스 환경에서 실패되지 않도록 보장

→ 테스트 코드는 코드가 동작하고, 멈추지 않고 계속 잘 실행하도록 보장하기 위해 필수

</br>

**테스트의 종류**

`단위 테스트 (unit test)` : 일반적으로 개별 함수나 클래스와 같은 작은 단위의 코드를 테스트 

`통합 테스트 (integration test)` : 시스템은 일반적으로 여러 구성 요소, 모듈, 하위 시스템으로 구성된다. 이러한 구성 요소와 하위 시스템을 함께 연결하는 과정을 통합이라고 한다. 통합 테스트를 통해 이러한 여러 구성 요소들이 제대로 작동하고 멈추지 않고 계속 실행하는지 확인 가능

`종단간 테스트 (E2E)` : 처음부터 끝까지 전체 소프트웨어 시스템에서 작동의 흐름(워크 플로우)을 테스트한다.  

 👻 통합테스트랑 종단간 테스트가 뭐가 다른지..

</br>

**테스트 용이성**

테스트 대상이 되는 실제 코드를 가리키며 해당 코드가 얼마나 테스트하기 적합한지를 나타낸다. 

테스트 용이성은 모듈화와 깊은 관련이 있으며, 모듈화된 코든는 테스트 용이성이 좋다. 

코드의 테스트 용이성이 낮으면 제대로 테스트하는 것이 불가능할 수 있다.
